\mainlanguage[en]
\language[en]
\enableregime[utf]
\pdfvariable minorversion 4 % verze pdf
%% \setupbodyfont[10.8pt]  %
\setuppapersize[letter, portrait] % A3, A4, A5, A6; landscape

\definefontfamily[mainface][rm][DejaVu Serif]
\setupbodyfont[mainface,10.8pt]

% Debugging
%% \showgrid
%% \showframe
%% \visualizeparagraphs
%% \visualizespace
%% \showstruts

\setupbodyfontenvironment[default][em=italic]

\setupwhitespace[medium] % Spacing after each paragraph.
%% \setupinterlinespace[line=2.8ex]
%% \setupitemize[before={\blank[2em]}, after={\blank[1em]}]

\setupcolors[state=start]
\setupcolor[rgb]

% The RGB values need to be converted from the 0-255 range to the 0-1 range by dividing each component by 255.
% This is for 218:246:250 for instance :[r=0.8549,g=0.9647,b=0.9804].
\definecolor[title][r=0.0784,g=0.0549,b=0.4824]
\definecolor[link][r=0.0784,g=0.0549,b=0.4824]

%% All footnotes at the end.
\definenote[endnote][way=bytext]
\setupnotation[endnote][location=text]

%%% Section design %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\define[2]\CVSection{
  \framedtext[
    %% width=\overlaywidth,
    %% width=\textwidth,
    framecolor=title,
    color=title,
    width=\makeupwidth,
    %% height=6\bodyfontsize,
    offset=2pt,
    %% leftframe=on,
    bottomframe=on,
    %% background={SectionDeco},
    align=flushleft, % flushright
    frame=off,
    strut=no,
  ]{#2}
}

\setuphead[section][
  command=\CVSection,
  margin=-4pt,
  rightmargin=10pt,
  %% color=darkgreen,
  style={\switchtobodyfont[14pt]\bf},
  before={\vskip 1mm},
  %% after=\nowhitespace,
]

\setupitemize[each][joinedup][leftmargin=0em]

%A4 210 x 297 mm
%letter 215.9 x 279.4

\setuplayout
  [topspace=-0.4cm,
   backspace=0cm,
   cutspace=0.1cm,  % Reduce the right margin
   header=0cm,
   footer=0.5cm,   % Reduce the bottom margin
   height=fit,
   width=fit]

%% \setuppagenumbering[location=]
\setuppagenumbering[state=stop]
%% \setupfootertexts[{\sc Page \currentpage{} of \lastpage}]

% For \url:
\setupurl[color=link] %,style=\tt

%% Inspect with pdfinfo command from the poppler package.
\setupinteraction
  [state=start,
   title={Résumé of Jakub Šťastný},
   subtitle={Senior Clojure Fullstack Developer},
   author={Jakub Šťastný},
   keyword={Clojure, ClojureScript, JavaScript, React.js}, %% FIXME: This is one single keyword
   color=link, % Optional: Set color for links with \goto and \from.
   openaction={firstpage, Fit}] % Optional: Set the opening view

\starttext
  \input shared.header.tex
  \blank[1em]
  \setupnarrower[left=2cm,right=-0.5cm]
  \startnarrower[left,right]
    \input Resume.body.tex
  \stopnarrower
\stoptext

%% Patricia: And remember this is the opposite of the spiritual and is needed for
%% for balance (aka grounding). It’s up to you to make it suit so you can enjoy it.
